{
  "title": "Kubernetes Services Overview",
  "description": "Our Kubernetes Services Overview dashboard gives you broad visibility into the scale, status, and resource usage of services running on your infrastructure. Further reading for Kubernetes monitoring:\n\n- [Autoscale Kubernetes workloads with any Datadog metric](https://www.datadoghq.com/blog/autoscale-kubernetes-datadog/)\n\n- [How to monitor Kubernetes + Docker with Datadog](https://www.datadoghq.com/blog/monitor-kubernetes-docker/)\n\n- [Monitoring in the Kubernetes era](https://www.datadoghq.com/blog/monitoring-kubernetes-era/)\n\n- [Monitoring Kubernetes performance metrics](https://www.datadoghq.com/blog/monitoring-kubernetes-performance-metrics/)\n\n- [Collecting metrics with built-in Kubernetes monitoring tools](https://www.datadoghq.com/blog/how-to-collect-and-graph-kubernetes-metrics/)\n\n- [Monitoring Kubernetes with Datadog](https://www.datadoghq.com/blog/monitoring-kubernetes-with-datadog/)\n\n- [Datadog's Kubernetes integration docs](https://docs.datadoghq.com/integrations/kubernetes/)",
  "widgets": [
    {
      "id": 4462006408395970,
      "definition": {
        "title": "Overview",
        "banner_img": "/static/images/integration_dashboard/kubernetes_hero_2.png",
        "show_title": false,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 951351331761250,
            "definition": {
              "type": "note",
              "content": "## Kubernetes Services Overview\n\nFurther reading for Kubernetes monitoring:\n\n- [Monitoring Kubernetes with Datadog](https://www.datadoghq.com/blog/monitoring-kubernetes-with-datadog/)\n\n- [Datadog's Kubernetes integration docs](https://docs.datadoghq.com/integrations/kubernetes/)\n\n- [Autoscale Kubernetes workloads with any Datadog metric](https://www.datadoghq.com/blog/autoscale-kubernetes-datadog/)\n\n- [Collecting metrics with built-in Kubernetes monitoring tools](https://www.datadoghq.com/blog/how-to-collect-and-graph-kubernetes-metrics/)\n",
              "background_color": "transparent",
              "font_size": "14",
              "text_align": "left",
              "vertical_align": "top",
              "show_tick": false,
              "tick_pos": "50%",
              "tick_edge": "left",
              "has_padding": true
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 2,
              "height": 2
            }
          },
          {
            "id": 8933566423075440,
            "definition": {
              "type": "note",
              "content": "#### This Kubernetes dashboard gives you broad visibility into the scale, status, and resource usage of services running on your infrastructure",
              "background_color": "transparent",
              "font_size": "14",
              "text_align": "left",
              "vertical_align": "top",
              "show_tick": false,
              "tick_pos": "50%",
              "tick_edge": "left",
              "has_padding": true
            },
            "layout": {
              "x": 2,
              "y": 0,
              "width": 2,
              "height": 2
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 0,
        "width": 4,
        "height": 5
      }
    },
    {
      "id": 5435641686450288,
      "definition": {
        "title": "Overview",
        "background_color": "vivid_blue",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 38,
            "definition": {
              "title": "Services per cluster",
              "title_size": "16",
              "title_align": "left",
              "type": "query_value",
              "requests": [
                {
                  "conditional_formats": [
                    {
                      "comparator": ">",
                      "value": 0,
                      "palette": "white_on_green"
                    }
                  ],
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:kubernetes_state.service.count{$scope,$kube_cluster_name}",
                      "aggregator": "last"
                    }
                  ]
                }
              ],
              "precision": 0
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 3,
              "height": 2
            }
          },
          {
            "id": 16,
            "definition": {
              "title": "Service types per cluster",
              "title_size": "16",
              "title_align": "left",
              "show_legend": false,
              "legend_size": "0",
              "type": "timeseries",
              "requests": [
                {
                  "on_right_yaxis": false,
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:kubernetes_state.service.count{$scope,$kube_cluster_name} by {type}"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "area"
                }
              ],
              "yaxis": {
                "label": "",
                "scale": "linear",
                "include_zero": true,
                "min": "auto",
                "max": "auto"
              }
            },
            "layout": {
              "x": 3,
              "y": 0,
              "width": 5,
              "height": 2
            }
          },
          {
            "id": 7462426759445848,
            "definition": {
              "title": "Pods running by Service",
              "title_size": "16",
              "title_align": "left",
              "show_legend": false,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "type": "timeseries",
              "requests": [
                {
                  "on_right_yaxis": false,
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:kubernetes.pods.running{$kube_service,$kube_namespace,$kube_cluster_name,$scope} by {kube_service}"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "exclude_null(query1)"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "bars"
                }
              ],
              "yaxis": {
                "label": "",
                "scale": "linear",
                "include_zero": true,
                "min": "auto",
                "max": "auto"
              }
            },
            "layout": {
              "x": 0,
              "y": 2,
              "width": 4,
              "height": 2
            }
          },
          {
            "id": 6742716780081854,
            "definition": {
              "title": "Top services by number of Pods running",
              "title_size": "16",
              "title_align": "left",
              "time": {},
              "type": "query_table",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:kubernetes.pods.running{$kube_service,$kube_namespace,$kube_cluster_name,$scope} by {kube_service,kube_namespace,kube_cluster_name}",
                      "aggregator": "max"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "exclude_null(query1)",
                      "alias": "Pods",
                      "limit": {
                        "count": 10,
                        "order": "desc"
                      }
                    }
                  ]
                }
              ]
            },
            "layout": {
              "x": 4,
              "y": 2,
              "width": 4,
              "height": 2
            }
          }
        ]
      },
      "layout": {
        "x": 4,
        "y": 0,
        "width": 8,
        "height": 5
      }
    },
    {
      "id": 3499349626792046,
      "definition": {
        "title": "CPU",
        "background_color": "vivid_blue",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 22,
            "definition": {
              "title": "CPU Usage by Service",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_size": "0",
              "type": "timeseries",
              "requests": [
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:kubernetes.cpu.usage.total{$kube_namespace,$kube_service,$scope,$kube_cluster_name} by {kube_service,kube_namespace,kube_cluster_name}"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "exclude_null(query1)"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "label": "",
                "scale": "linear",
                "include_zero": true,
                "min": "auto",
                "max": "auto"
              }
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 6,
              "height": 2
            }
          },
          {
            "id": 25,
            "definition": {
              "title": "Most CPU-intensive Services",
              "title_size": "16",
              "title_align": "left",
              "time": {
                "live_span": "4h"
              },
              "type": "toplist",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:kubernetes.cpu.usage.total{$scope,$kube_namespace,$kube_service,$kube_cluster_name,!pod_name:no_pod} by {kube_service,kube_namespace,kube_cluster_name}",
                      "aggregator": "avg"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "exclude_null(query1)",
                      "limit": {
                        "count": 10,
                        "order": "desc"
                      }
                    }
                  ]
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 2,
              "width": 6,
              "height": 2
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 0,
        "width": 6,
        "height": 5
      }
    },
    {
      "id": 8720975485613224,
      "definition": {
        "title": "Memory",
        "background_color": "vivid_blue",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 23,
            "definition": {
              "title": "Memory Usage by Service",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_size": "0",
              "type": "timeseries",
              "requests": [
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:kubernetes.memory.usage{$kube_namespace,$kube_service,$scope,$kube_cluster_name} by {kube_service,kube_namespace,kube_cluster_name}"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "exclude_null(query1)"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "label": "",
                "scale": "linear",
                "include_zero": true,
                "min": "auto",
                "max": "auto"
              }
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 6,
              "height": 2
            }
          },
          {
            "id": 24,
            "definition": {
              "title": "Most memory-intensive Services",
              "title_size": "16",
              "title_align": "left",
              "time": {
                "live_span": "4h"
              },
              "type": "toplist",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:kubernetes.memory.usage{$scope,$kube_namespace,$kube_service,$kube_cluster_name,!pod_name:no_pod} by {kube_service,kube_namespace,kube_cluster_name}",
                      "aggregator": "avg"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "exclude_null(query1)",
                      "limit": {
                        "count": 10,
                        "order": "desc"
                      }
                    }
                  ]
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 2,
              "width": 6,
              "height": 2
            }
          }
        ]
      },
      "layout": {
        "x": 6,
        "y": 0,
        "width": 6,
        "height": 5
      }
    },
    {
      "id": 7546337601390890,
      "definition": {
        "title": "Disk",
        "background_color": "vivid_blue",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 34,
            "definition": {
              "title": "Disk Usage",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_size": "0",
              "type": "timeseries",
              "requests": [
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:kubernetes.filesystem.usage{$kube_namespace,$kube_service,$scope,$kube_cluster_name} by {kube_service,kube_namespace,kube_cluster_name}"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "exclude_null(query1)"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "label": "",
                "scale": "linear",
                "include_zero": true,
                "min": "auto",
                "max": "auto"
              }
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 6,
              "height": 2
            }
          },
          {
            "id": 35,
            "definition": {
              "title": "Disk Usage %",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "time": {},
              "type": "timeseries",
              "requests": [
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:kubernetes.filesystem.usage_pct{$kube_namespace,$kube_service,$scope,$kube_cluster_name} by {kube_service,kube_namespace,kube_cluster_name}"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "exclude_null(query1) * 100",
                      "number_format": {
                        "unit": {
                          "type": "canonical_unit",
                          "unit_name": "percent"
                        }
                      }
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "label": "",
                "scale": "linear",
                "include_zero": true,
                "min": "auto",
                "max": "auto"
              },
              "markers": [
                {
                  "label": " 100% ",
                  "value": "y = 100",
                  "display_type": "error dashed"
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 2,
              "width": 6,
              "height": 2
            }
          },
          {
            "id": 36,
            "definition": {
              "title": "Most Disk-intensive Services",
              "title_size": "16",
              "title_align": "left",
              "time": {
                "live_span": "4h"
              },
              "type": "toplist",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:kubernetes.filesystem.usage{$scope,$kube_namespace,$kube_service,$kube_cluster_name,!pod_name:no_pod} by {kube_service,kube_namespace,kube_cluster_name}",
                      "aggregator": "avg"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "exclude_null(query1)",
                      "limit": {
                        "count": 10,
                        "order": "desc"
                      }
                    }
                  ]
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 4,
              "width": 6,
              "height": 2
            }
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 0,
        "width": 6,
        "height": 7,
        "is_column_break": true
      }
    },
    {
      "id": 4283562539465114,
      "definition": {
        "title": "Network",
        "background_color": "vivid_blue",
        "show_title": true,
        "type": "group",
        "layout_type": "ordered",
        "widgets": [
          {
            "id": 32,
            "definition": {
              "title": "Network Usage (Rx / Tx rate)",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_size": "0",
              "type": "timeseries",
              "requests": [
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:kubernetes.network.rx_bytes{$kube_namespace,$kube_service,$scope,$kube_cluster_name} by {kube_service,kube_namespace,kube_cluster_name}"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:kubernetes.network.tx_bytes{$kube_namespace,$kube_service,$scope,$kube_cluster_name} by {kube_service,kube_namespace,kube_cluster_name}"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "exclude_null(query1)"
                    },
                    {
                      "formula": "exclude_null(query2)"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "label": "",
                "scale": "linear",
                "include_zero": true,
                "min": "auto",
                "max": "auto"
              }
            },
            "layout": {
              "x": 0,
              "y": 0,
              "width": 6,
              "height": 2
            }
          },
          {
            "id": 33,
            "definition": {
              "title": "Network Errors",
              "title_size": "16",
              "title_align": "left",
              "show_legend": true,
              "legend_layout": "auto",
              "legend_columns": [
                "avg",
                "min",
                "max",
                "value",
                "sum"
              ],
              "time": {},
              "type": "timeseries",
              "requests": [
                {
                  "response_format": "timeseries",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:kubernetes.network.rx_errors{$kube_namespace,$kube_service,$scope,$kube_cluster_name} by {kube_service,kube_namespace,kube_cluster_name}"
                    },
                    {
                      "data_source": "metrics",
                      "name": "query2",
                      "query": "sum:kubernetes.network.tx_errors{$kube_namespace,$kube_service,$scope,$kube_cluster_name} by {kube_service,kube_namespace,kube_cluster_name}"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "exclude_null(query1)"
                    },
                    {
                      "formula": "exclude_null(query2)"
                    }
                  ],
                  "style": {
                    "palette": "dog_classic",
                    "line_type": "solid",
                    "line_width": "normal"
                  },
                  "display_type": "line"
                }
              ],
              "yaxis": {
                "label": "",
                "scale": "linear",
                "include_zero": true,
                "min": "auto",
                "max": "auto"
              },
              "markers": [
                {
                  "label": "y = 0",
                  "value": "y = 0",
                  "display_type": "ok dashed"
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 2,
              "width": 6,
              "height": 2
            }
          },
          {
            "id": 37,
            "definition": {
              "title": "Most Network-intensive Services",
              "title_size": "16",
              "title_align": "left",
              "time": {
                "live_span": "4h"
              },
              "type": "toplist",
              "requests": [
                {
                  "response_format": "scalar",
                  "queries": [
                    {
                      "data_source": "metrics",
                      "name": "query1",
                      "query": "sum:kubernetes.network.tx_bytes{$scope,$kube_namespace,$kube_service,$kube_cluster_name,!pod_name:no_pod} by {kube_service,kube_namespace,kube_cluster_name}",
                      "aggregator": "avg"
                    }
                  ],
                  "formulas": [
                    {
                      "formula": "exclude_null(query1)",
                      "limit": {
                        "count": 10,
                        "order": "desc"
                      }
                    }
                  ]
                }
              ]
            },
            "layout": {
              "x": 0,
              "y": 4,
              "width": 6,
              "height": 2
            }
          }
        ]
      },
      "layout": {
        "x": 6,
        "y": 0,
        "width": 6,
        "height": 7
      }
    }
  ],
  "template_variables": [
    {
      "name": "scope",
      "available_values": [],
      "default": "*"
    },
    {
      "name": "kube_cluster_name",
      "prefix": "kube_cluster_name",
      "available_values": [],
      "default": "*"
    },
    {
      "name": "kube_namespace",
      "prefix": "kube_namespace",
      "available_values": [],
      "default": "*"
    },
    {
      "name": "kube_service",
      "prefix": "kube_service",
      "available_values": [],
      "default": "*"
    }
  ],
  "layout_type": "ordered",
  "notify_list": [],
  "reflow_type": "fixed"
}
